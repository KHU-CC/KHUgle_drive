{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>KHUGLE DRIVE - D조</title>
    <meta charset="UTF-8">
    <!-- <link rel="stylesheet" href="./style.css"> -->
    <link rel="stylesheet" href="{% static './style.css' %}">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous"> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- oAuth2 Google -->
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
    <meta name="google-signin-client_id" content="241069270140-t6piit75a8a1rm2gojgip3msu2rlh8v7.apps.googleusercontent.com">
        
    <script>
        function onSignIn(googleUser) {
            console.log(googleUser)
            var profile = googleUser.getBasicProfile();
            console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
            console.log('Name: ' + profile.getName());
            console.log('Image URL: ' + profile.getImageUrl());
            console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
            }
            
        function getUserInfo(gauth) {
            var profile = gauth.currentUser.get().getBasicProfile();
            console.log('Full Name: ' + profile.getName());
            console.log('Given Name: ' + profile.getGivenName());
            console.log('Family Name: ' + profile.getFamilyName());
            console.log('Image URL: ' + profile.getImageUrl());
            console.log('Email: ' + profile.getEmail());
            console.log('ID: ' + profile.getId());
        }

        function init() {
            gapi.load('auth2', function() {
                console.log('auth2')
                window.gauth = gapi.auth2.init({
                    client_id: '241069270140-t6piit75a8a1rm2gojgip3msu2rlh8v7.apps.googleusercontent.com'
                })

                gauth.then(function(){
                }, function() {
                    console.log('googleAuth fail')
                })
            })
        }

    </script>
</head>
<!-- ployfill is a library supporter. -->
<body>
    <div class = "top-out-layout">
        <div class = "content">
            Help
        </div>
    </div>

    <div class = "top-layout-login">
        <div class = "log-img">
            <!-- <img src="./img/logo.png" style="padding-bottom: 15px; padding-right: 10px; width: 80px;"> -->
            <img src="{% static './img/logo.png' %}" style="padding-bottom: 15px; padding-right: 10px; width: 80px;">
            <h1 style="display: inline; font-size:50px">KHUGLE DRIVE</h1>
        </div>
    </div>

    <div class = "mid-layout-login">
        <div class = "login">
            <div class="container my-3">
                <form method="post" class="post-form" action="{% url 'account:loginPage' %}">
                    {% csrf_token %}
                    {% include "form_errors.html" %}
                    <div class="form-group">
                        <input placeholder="Username" type="text" style="margin: 30px 0px 30px 0px;"class="form-control" name="username" id="username"
                               value="{{ form.username.value|default_if_none:'' }}">
                    </div>
                    <div class="form-group">
                        <input placeholder="Password"type="password" class="form-control" name="password" id="password"
                               value="{{ form.password.value|default_if_none:'' }}">
                    </div>
                    <div class="login-button"><button type="submit" class="btn btn-primary">로그인</button><div class="login-button"></div>
                </form>
            </div>
            <!-- <div class="login-id"> -->
                <!-- <input placeholder="Username" type="text"></input> -->
            <!-- </div> -->
            <!-- <div class="login-pw"> -->
                <!-- <input placeholder="Password" type="password"></input> -->
            <!-- </div> -->
            <!-- <div class="login-button"> -->
                <!-- <a href="privatePage"><button>Sign-in</button></a> -->
            <!-- </div> -->

            <div class="sign-in">
                <a href="{% url 'account:signup' %}">Sign-up</a>
            <br>
            </div>

            <div class="outer-login">
                <a id="googleLogin" style="cursor:pointer;" onclick="gauth.signIn().then(function(){
                    // console.log('gauth.signIn()')
                    console.log(getUserInfo(gauth))
                    location.href='./private.html'
                })">Google-login</a>
                <a href="blank">Naver-login</a>

                  <!-- 네이버아이디로로그인 버튼 노출 영역 -->
                <div id="naver_id_login"></div>
                <!-- //네이버아이디로로그인 버튼 노출 영역 -->
                <script type="text/javascript">
                    var naver_id_login = new naver_id_login("ngTA72MNVtCk3I0V0JK9", "http://localhost/callback.html");
                    var state = naver_id_login.getUniqState();
                    naver_id_login.setButton("white", 2,40);
                    // naver_id_login.setDomain("http://localhost/login.html");
                    naver_id_login.setState(state);
                    naver_id_login.setPopup();
                    naver_id_login.init_naver_id_login();
                </script>
            </div>
        </div>
    </div>

    <div class = "bottom-layout">
        <!-- login-bottom -->
    </div>

    <div class = "bottom-out-layout">
        <div class = "content">
            GROUP D | info | Copyright
        </div>
    </div>
    <script src="https://apis.google.com/js/platform.js?onload=init" async defer></script>
</body>
</html>
